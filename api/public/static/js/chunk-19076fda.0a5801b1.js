(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19076fda"],{"0254":function(t,a,e){},"4ed3":function(t,a,e){"use strict";var n=e("0254"),i=e.n(n);i.a},d418:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[e("el-table-column",{attrs:{type:"expand",align:"center",label:"序号",width:"95"},scopedSlots:t._u([{key:"default",fn:function(t){return e("hotel-detail",{attrs:{data:t.row}})}}])}),t._v(" "),e("el-table-column",{attrs:{label:"酒店名称"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n        "+t._s(a.row.HotelDisplayName)+"\n      ")]}}])}),t._v(" "),e("el-table-column",{attrs:{"class-name":"status-col",label:"最低价(三个月内)",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[t._v("\n        ￥"+t._s(a.row.minPrice.price)+"\n      ")]}}])}),t._v(" "),e("el-table-column",{attrs:{"class-name":"status-col",label:"最高折扣(三个月内)",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.minPrice.discount>0?e("el-tag",{staticClass:"discountTag",attrs:{color:"#67C23A"}},[t._v(t._s(a.row.minPrice.discount)+"%off")]):t._e(),t._v(" "),0===a.row.minPrice.discount?e("el-tag",{staticClass:"discountTag",attrs:{color:"#909399"}},[t._v("无折扣")]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"最低价日期(三个月内)",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-link",{attrs:{href:a.row.minPrice.url,type:"primary",target:"_blank"}},[t._v(t._s(a.row.minPrice.date))])]}}])})],1),t._v(" "),e("el-pagination",{attrs:{"page-size":t.pagination.pageSize,"pager-count":9,"current-page":t.pagination.pageNumber,layout:"prev, pager, next",total:t.pagination.total},on:{"current-change":t.pageChange}})],1)},i=[],r=e("b775");function o(t){return Object(r["a"])({url:"/hotels",method:"get",params:{pagesize:t.pageSize,pagenumber:t.pageNumber}})}var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:4}},[e("el-image",{attrs:{src:t.data.MainPhotoUrl}})],1),t._v(" "),e("el-col",{attrs:{span:16}},[e("ve-line",{attrs:{data:t.chartData,"data-zoom":t.dataZoom,settings:t.chartSettings,events:t.chartEvents,"mark-line":t.markLine,"mark-point":t.markPoint}})],1)],1)},l=[],c=(e("7f7f"),e("55dd"),e("ac6a"),e("8615"),e("c3da")),u=e.n(c),d=(e("95a8"),e("db0e"),{name:"HotelDetail",components:{"ve-line":u.a},props:{data:{type:Object,default:{}}},data:function(){var t=this,a=Object.values(this.data.Prices);a.sort(function(t,a){return t.formatDate<a.formatDate?-1:t.formatDate>a.formatDate?1:0});for(var e=[],n=0,i=a;n<i.length;n++){var r=i[n];e.push({"日期":r.formatDate,"价格":Math.round(r.DisplayPrice)})}return this.chartSettings={metrics:["价格"],dimension:["日期"]},this.markLine={data:[{name:"平均线",type:"average"}]},this.markPoint={data:[{name:"最小值",type:"min"}]},this.dataZoom=[{type:"slider",start:0,end:20}],this.chartEvents={click:function(a){window.open("https://www.agoda.com".concat(t.data.Prices[a.name].url))}},{chartData:{columns:["日期","价格","url"],rows:e}}}}),p=d,g=e("2877"),m=Object(g["a"])(p,s,l,!1,null,"46603b35",null),f=m.exports,h={components:{HotelDetail:f},filters:{statusFilter:function(t){var a={published:"success",draft:"gray",deleted:"danger"};return a[t]}},data:function(){return{list:null,listLoading:!0,pagination:{pageNumber:1,pageSize:20,total:0},conditions:{}}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;Object.assign(this.conditions,this.pagination),this.listLoading=!0,o(this.conditions).then(function(a){t.list=a.data.rows,t.pagination.total=a.data.total,t.listLoading=!1})},pageChange:function(t){this.pagination.pageNumber=t,this.fetchData()}}},v=h,b=(e("4ed3"),Object(g["a"])(v,n,i,!1,null,null,null));a["default"]=b.exports}}]);